<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Moments Admin</title>
  <link rel="stylesheet" href="/css/admin.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#2563eb">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="/logo.svg" alt="logo" class="logo"/>
      <h1>Moments Admin</h1>
    </div>
    <div id="auth-area">
      <button id="sign-in">Sign in</button>
      <button id="sign-out" class="hidden">Sign out</button>
    </div>
  </header>

  <main class="container" id="app">
    <section class="panel" id="overview">
      <h2>Overview</h2>
      <div id="stats" class="stats">Loading…</div>
    </section>

    <section class="panel" id="campaigns">
      <div class="panel-header">
        <h2>Campaigns</h2>
        <div>
          <button id="new-campaign">New Campaign</button>
        </div>
      </div>
      <div id="campaign-list" class="card-list">Loading campaigns…</div>
    </section>

    <section class="panel" id="sponsors-panel">
      <h2>Sponsors</h2>
      <div id="sponsors-area">Loading sponsors…</div>
    </section>

    <section class="panel" id="roles-panel">
      <h2>Role Management</h2>
      <div id="roles-area">Loading roles…</div>
    </section>
  </main>

  <!-- Create Campaign Modal -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <h3>Create Campaign</h3>
      <form id="campaign-form">
        <label>Title<input name="title" required></label>
        <label>Content<textarea name="content" required></textarea></label>
        <label>Sponsor ID<input name="sponsor_id"></label>
        <label>Budget<input type="number" name="budget" step="0.01"></label>
        <label>Target Regions (comma-separated)<input name="target_regions"></label>
        <label>Target Categories (comma-separated)<input name="target_categories"></label>
        <label>Media URLs (comma-separated)<input name="media_urls"></label>
        <label>Scheduled at (ISO)<input name="scheduled_at" placeholder="2026-01-02T12:00:00Z"></label>
        <div class="modal-actions">
          <button type="submit">Create</button>
          <button type="button" id="modal-cancel">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // TODO: Replace with your Supabase details in production
    window.SUPABASE_URL = window.SUPABASE_URL || 'https://arqeiadudzbmzdhqkit.supabase.co';
    window.SUPABASE_ANON_KEY = window.SUPABASE_ANON_KEY || 'SUPABASE_ANON_KEY_PLACEHOLDER';
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>
  <script src="/js/admin.js"></script>
</body>
</html>
